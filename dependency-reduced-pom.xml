<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>anserini</groupId>
  <artifactId>anserini</artifactId>
  <name>Anserini retrieval platform</name>
  <version>0.0.1-SNAPSHOT</version>
  <build>
    <plugins>
      <plugin>
        <artifactId>maven-compiler-plugin</artifactId>
        <configuration>
          <source>1.8</source>
          <target>1.8</target>
          <encoding>utf-8</encoding>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-shade-plugin</artifactId>
        <executions>
          <execution>
            <phase>package</phase>
            <goals>
              <goal>shade</goal>
            </goals>
            <configuration>
              <filters>
                <filter>
                  <artifact>*:*</artifact>
                  <excludes>
                    <exclude>META-INF/*.RSA</exclude>
                    <exclude>META-INF/*.SF</exclude>
                  </excludes>
                </filter>
              </filters>
              <transformers>
                <transformer>
                  <resource>META-INF/services/org.apache.lucene.codecs.Codec</resource>
                </transformer>
                <transformer>
                  <resource>META-INF/services/org.apache.lucene.codecs.DocValuesFormat</resource>
                </transformer>
                <transformer>
                  <resource>META-INF/services/org.apache.lucene.codecs.PostingsFormat</resource>
                </transformer>
                <transformer>
                  <mainClass>mainClassName</mainClass>
                </transformer>
              </transformers>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>appassembler-maven-plugin</artifactId>
        <version>1.10</version>
        <configuration>
          <extraJvmArguments>-Xms512M -Xmx24576M</extraJvmArguments>
          <programs>
            <program>
              <mainClass>io.anserini.ltr.DumpTweetsLtrData</mainClass>
              <name>DumpTweetsLtrData</name>
            </program>
            <program>
              <mainClass>io.anserini.index.IndexGov2</mainClass>
              <name>IndexGov2</name>
            </program>
            <program>
              <mainClass>io.anserini.search.SearchGov2</mainClass>
              <name>SearchGov2</name>
            </program>
            <program>
              <mainClass>io.anserini.index.IndexCollection</mainClass>
              <name>IndexCollection</name>
            </program>
            <program>
              <mainClass>io.anserini.search.SearchCollection</mainClass>
              <name>SearchCollection</name>
            </program>
            <program>
              <mainClass>io.anserini.kg.freebase.IndexNodes</mainClass>
              <name>IndexFreebaseNodes</name>
            </program>
            <program>
              <mainClass>io.anserini.kg.freebase.LookupNode</mainClass>
              <name>LookupFreebaseNode</name>
            </program>
            <program>
              <mainClass>io.anserini.kg.freebase.IndexTopics</mainClass>
              <name>IndexFreebaseTopics</name>
            </program>
            <program>
              <mainClass>io.anserini.kg.freebase.LookupTopic</mainClass>
              <name>LookupFreebaseTopic</name>
            </program>
            <program>
              <mainClass>io.anserini.kg.freebase.EntityLinking</mainClass>
              <name>EntityLinking</name>
            </program>
            <program>
              <mainClass>io.anserini.kg.freebase.TrainingDataGenerator</mainClass>
              <name>TrainingDataGenerator</name>
            </program>
            <program>
              <mainClass>io.anserini.py4j.PyseriniEntryPoint</mainClass>
              <name>PyseriniEntryPoint</name>
            </program>
            <program>
              <mainClass>io.anserini.eval.Eval</mainClass>
              <name>Eval</name>
            </program>
            <program>
              <mainClass>io.anserini.SearchTimeUtil</mainClass>
              <name>Time</name>
            </program>
            <program>
              <mainClass>io.anserini.nrts.TweetSearcher</mainClass>
              <name>TweetSearcher</name>
            </program>
            <program>
              <mainClass>io.anserini.index.IndexUtils</mainClass>
              <name>IndexUtils</name>
            </program>
            <program>
              <mainClass>io.anserini.util.DumpDocids</mainClass>
              <name>DumpDocids</name>
            </program>
            <program>
              <mainClass>io.anserini.util.ExtractRm3Stopwords</mainClass>
              <name>ExtractRm3Stopwords</name>
            </program>
            <program>
              <mainClass>io.anserini.ltr.FeatureExtractorCli</mainClass>
              <name>FeatureExtractor</name>
            </program>
            <program>
              <mainClass>io.anserini.index.IndexCacmRecords</mainClass>
              <name>IndexCACM</name>
            </program>
            <program>
              <mainClass>io.anserini.search.SearchCacmCollection</mainClass>
              <name>SearchCACM</name>
            </program>
            <program>
              <mainClass>io.anserini.ltr.RankLibScorer</mainClass>
              <name>RankLibScore</name>
            </program>
            <program>
              <mainClass>io.anserini.util.DumpDocumentBody</mainClass>
              <name>DumpDocument</name>
            </program>
            <program>
              <mainClass>io.anserini.rts.TRECSearcher</mainClass>
              <name>TRECSearcher</name>
            </program>
            <program>
              <mainClass>io.anserini.embeddings.train.TrainW2V</mainClass>
              <name>TrainW2V</name>
            </program>
            <program>
              <mainClass>io.anserini.embeddings.IndexW2V</mainClass>
              <name>IndexW2V</name>
            </program>
            <program>
              <mainClass>io.anserini.embeddings.WordEmbeddingDictionary</mainClass>
              <name>SearchW2V</name>
            </program>
            <program>
              <mainClass>io.anserini.qa.RetrieveSentences</mainClass>
              <name>RetrieveSentences</name>
            </program>
          </programs>
        </configuration>
      </plugin>
      <plugin>
        <artifactId>maven-assembly-plugin</artifactId>
        <configuration>
          <archive>
            <manifest>
              <mainClass>fully.qualified.MainClass</mainClass>
            </manifest>
          </archive>
          <descriptorRefs>
            <descriptorRef>jar-with-dependencies</descriptorRef>
          </descriptorRefs>
        </configuration>
      </plugin>
    </plugins>
  </build>
  <repositories>
    <repository>
      <id>public</id>
      <url>https://repo1.maven.org/maven2</url>
    </repository>
    <repository>
      <id>AnseriniMaven</id>
      <url>https://raw.githubusercontent.com/lintool/AnseriniMaven/master/mvn-repo/</url>
    </repository>
  </repositories>
  <properties>
    <JETTY_VERSION>8.1.17.v20150415</JETTY_VERSION>
    <LUCENE_VERSION>6.3.0</LUCENE_VERSION>
    <MUSTACHE_VERSION>0.8.18</MUSTACHE_VERSION>
    <JERSEY_VERSION>2.7</JERSEY_VERSION>
  </properties>
</project>
